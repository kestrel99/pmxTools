<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Visualize PsN SCM output. — plot_scm • pmxTools</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Visualize PsN SCM output. — plot_scm"><meta name="description" content="plot_scm returns a visualization of a Perl-speaks-NONMEM (PsN, https://uupharmacometrics.github.io/PsN/) SCM (stepwise covariate modeling)
procedure. It depends on the presence of scmlog.txt and short_scmlog.txt files in the
specified directory."><meta property="og:description" content="plot_scm returns a visualization of a Perl-speaks-NONMEM (PsN, https://uupharmacometrics.github.io/PsN/) SCM (stepwise covariate modeling)
procedure. It depends on the presence of scmlog.txt and short_scmlog.txt files in the
specified directory."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">pmxTools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/pk-curves.html">Drawing PK curves with pmxTools</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/kestrel99/pmxTools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Visualize PsN SCM output.</h1>
      <small class="dont-index">Source: <a href="https://github.com/kestrel99/pmxTools/blob/master/R/plot_scm.R" class="external-link"><code>R/plot_scm.R</code></a></small>
      <div class="d-none name"><code>plot_scm.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>plot_scm</code> returns a visualization of a Perl-speaks-NONMEM (PsN, <a href="https://uupharmacometrics.github.io/PsN/" class="external-link">https://uupharmacometrics.github.io/PsN/</a>) SCM (stepwise covariate modeling)
procedure. It depends on the presence of <code>scmlog.txt</code> and <code>short_scmlog.txt</code> files in the
specified directory.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_scm</span><span class="op">(</span></span>
<span>  <span class="va">dir</span>,</span>
<span>  startPhase <span class="op">=</span> <span class="st">"forward"</span>,</span>
<span>  fwdSuccessCol <span class="op">=</span> <span class="st">"#66C2A5"</span>,</span>
<span>  fwdFailCol <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  bwdSuccessCol <span class="op">=</span> <span class="st">"#FC8D62"</span>,</span>
<span>  bwdFailCol <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  defCol <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  fwdSuccessFillCol <span class="op">=</span> <span class="st">"#B3E2CD"</span>,</span>
<span>  fwdFailFillCol <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>  bwdSuccessFillCol <span class="op">=</span> <span class="st">"#FDCDAC"</span>,</span>
<span>  bwdFailFillCol <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>  defFillCol <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>  fwdSuccessFontCol <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  fwdFailFontCol <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  bwdSuccessFontCol <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  bwdFailFontCol <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  defFontCol <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  fullFwdCol <span class="op">=</span> <span class="st">"#8DA0CB"</span>,</span>
<span>  finalCol <span class="op">=</span> <span class="st">"#E78AC3"</span>,</span>
<span>  fullFwdFillCol <span class="op">=</span> <span class="st">"#CBD5E8"</span>,</span>
<span>  finalFillCol <span class="op">=</span> <span class="st">"#F4CAE4"</span>,</span>
<span>  fullFwdFontCol <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  finalFontCol <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  fullFwdWidth <span class="op">=</span> <span class="st">"2px"</span>,</span>
<span>  finalWidth <span class="op">=</span> <span class="st">"2px"</span>,</span>
<span>  defWidth <span class="op">=</span> <span class="st">"1px"</span>,</span>
<span>  nodeStyle <span class="op">=</span> <span class="st">"filled,rounded"</span>,</span>
<span>  nodeShape <span class="op">=</span> <span class="st">"box"</span>,</span>
<span>  fontname <span class="op">=</span> <span class="st">"helvetica"</span>,</span>
<span>  rankdir <span class="op">=</span> <span class="st">"TB"</span>,</span>
<span>  layout <span class="op">=</span> <span class="st">"dot"</span>,</span>
<span>  lookupDF <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dir">dir<a class="anchor" aria-label="anchor" href="#arg-dir"></a></dt>
<dd><p>A PsN SCM folder (containing <code>scmlog.txt</code> and <code>short_scmlog.txt</code>).</p></dd>


<dt id="arg-startphase">startPhase<a class="anchor" aria-label="anchor" href="#arg-startphase"></a></dt>
<dd><p>Where to start collating the output; can be <code>"forward"</code> (the default) or <code>"backward"</code>.</p></dd>


<dt id="arg-fwdsuccesscol">fwdSuccessCol<a class="anchor" aria-label="anchor" href="#arg-fwdsuccesscol"></a></dt>
<dd><p>Node outline color for a model fit matching the forward inclusion criterion.</p></dd>


<dt id="arg-fwdfailcol">fwdFailCol<a class="anchor" aria-label="anchor" href="#arg-fwdfailcol"></a></dt>
<dd><p>Node outline color for a model fit not matching the forward inclusion criterion.</p></dd>


<dt id="arg-bwdsuccesscol">bwdSuccessCol<a class="anchor" aria-label="anchor" href="#arg-bwdsuccesscol"></a></dt>
<dd><p>Node outline color for a model fit matching the backward elimination criterion.</p></dd>


<dt id="arg-bwdfailcol">bwdFailCol<a class="anchor" aria-label="anchor" href="#arg-bwdfailcol"></a></dt>
<dd><p>Node outline color for a model fit not matching the backward elimination criterion.</p></dd>


<dt id="arg-defcol">defCol<a class="anchor" aria-label="anchor" href="#arg-defcol"></a></dt>
<dd><p>Default node outline color.</p></dd>


<dt id="arg-fwdsuccessfillcol">fwdSuccessFillCol<a class="anchor" aria-label="anchor" href="#arg-fwdsuccessfillcol"></a></dt>
<dd><p>Node fill color for a model fit matching the forward inclusion criterion.</p></dd>


<dt id="arg-fwdfailfillcol">fwdFailFillCol<a class="anchor" aria-label="anchor" href="#arg-fwdfailfillcol"></a></dt>
<dd><p>Node fill color for a model fit not matching the forward inclusion criterion.</p></dd>


<dt id="arg-bwdsuccessfillcol">bwdSuccessFillCol<a class="anchor" aria-label="anchor" href="#arg-bwdsuccessfillcol"></a></dt>
<dd><p>Node fill color for a model fit matching the backward elimination criterion.</p></dd>


<dt id="arg-bwdfailfillcol">bwdFailFillCol<a class="anchor" aria-label="anchor" href="#arg-bwdfailfillcol"></a></dt>
<dd><p>Node fill color for a model fit not matching the backward elimination criterion.</p></dd>


<dt id="arg-deffillcol">defFillCol<a class="anchor" aria-label="anchor" href="#arg-deffillcol"></a></dt>
<dd><p>Default node fill color.</p></dd>


<dt id="arg-fwdsuccessfontcol">fwdSuccessFontCol<a class="anchor" aria-label="anchor" href="#arg-fwdsuccessfontcol"></a></dt>
<dd><p>Node font color for a model fit matching the forward inclusion criterion.</p></dd>


<dt id="arg-fwdfailfontcol">fwdFailFontCol<a class="anchor" aria-label="anchor" href="#arg-fwdfailfontcol"></a></dt>
<dd><p>Node font color for a model fit not matching the forward inclusion criterion.</p></dd>


<dt id="arg-bwdsuccessfontcol">bwdSuccessFontCol<a class="anchor" aria-label="anchor" href="#arg-bwdsuccessfontcol"></a></dt>
<dd><p>Node font color for a model fit matching the backward elimination criterion.</p></dd>


<dt id="arg-bwdfailfontcol">bwdFailFontCol<a class="anchor" aria-label="anchor" href="#arg-bwdfailfontcol"></a></dt>
<dd><p>Node font color for a model fit not matching the backward elimination criterion.</p></dd>


<dt id="arg-deffontcol">defFontCol<a class="anchor" aria-label="anchor" href="#arg-deffontcol"></a></dt>
<dd><p>Default node font color.</p></dd>


<dt id="arg-fullfwdcol">fullFwdCol<a class="anchor" aria-label="anchor" href="#arg-fullfwdcol"></a></dt>
<dd><p>Node outline color for the full forward model (i.e. the final model before the backward elimination procedure in SCM).</p></dd>


<dt id="arg-finalcol">finalCol<a class="anchor" aria-label="anchor" href="#arg-finalcol"></a></dt>
<dd><p>Node outline color for the final reduced model (i.e. the final model reached after the backward elimination procedure in SCM).</p></dd>


<dt id="arg-fullfwdfillcol">fullFwdFillCol<a class="anchor" aria-label="anchor" href="#arg-fullfwdfillcol"></a></dt>
<dd><p>Node fill color for the full forward model (i.e. the final model before the backward elimination procedure in SCM).</p></dd>


<dt id="arg-finalfillcol">finalFillCol<a class="anchor" aria-label="anchor" href="#arg-finalfillcol"></a></dt>
<dd><p>Node fill color for the final reduced model (i.e. the final model reached after the backward elimination procedure in SCM).</p></dd>


<dt id="arg-fullfwdfontcol">fullFwdFontCol<a class="anchor" aria-label="anchor" href="#arg-fullfwdfontcol"></a></dt>
<dd><p>Node font color for the full forward model (i.e. the final model before the backward elimination procedure in SCM).</p></dd>


<dt id="arg-finalfontcol">finalFontCol<a class="anchor" aria-label="anchor" href="#arg-finalfontcol"></a></dt>
<dd><p>Node font color for the final reduced model (i.e. the final model reached after the backward elimination procedure in SCM).</p></dd>


<dt id="arg-fullfwdwidth">fullFwdWidth<a class="anchor" aria-label="anchor" href="#arg-fullfwdwidth"></a></dt>
<dd><p>Node outline width for the full forward model (i.e. the final model before the backward elimination procedure in SCM).</p></dd>


<dt id="arg-finalwidth">finalWidth<a class="anchor" aria-label="anchor" href="#arg-finalwidth"></a></dt>
<dd><p>Node outline width for the final reduced model (i.e. the final model reached after the backward elimination procedure in SCM).</p></dd>


<dt id="arg-defwidth">defWidth<a class="anchor" aria-label="anchor" href="#arg-defwidth"></a></dt>
<dd><p>Default node outline width.</p></dd>


<dt id="arg-nodestyle">nodeStyle<a class="anchor" aria-label="anchor" href="#arg-nodestyle"></a></dt>
<dd><p>Node style. A string containing a comma-separated list of options (which include "filled", "striped", "wedged", "diagonals" and "rounded"). See the GraphViz documentation for further details.</p></dd>


<dt id="arg-nodeshape">nodeShape<a class="anchor" aria-label="anchor" href="#arg-nodeshape"></a></dt>
<dd><p>Node shape. Options include "box" (the default), "oval", "diamond", "egg", "plaintext", "point", "square", "triangle" and many more. See the GraphViz documentation for further details.</p></dd>


<dt id="arg-fontname">fontname<a class="anchor" aria-label="anchor" href="#arg-fontname"></a></dt>
<dd><p>Font for nodes. Options depend heavily on the local system - see the GraphViz documentation for further details.</p></dd>


<dt id="arg-rankdir">rankdir<a class="anchor" aria-label="anchor" href="#arg-rankdir"></a></dt>
<dd><p>Direction of graph layout. Possible values are "TB" (the default), "LR", "BT", "RL", corresponding to directed graphs drawn from top to bottom, from left to right, from bottom to top, and from right to left, respectively.</p></dd>


<dt id="arg-layout">layout<a class="anchor" aria-label="anchor" href="#arg-layout"></a></dt>
<dd><p>Graph layout. Possible values are "dot" (the default), "neato", "twopi", and "circo". Note that of these, "dot" is the easiest to interpret and the others may produce odd results.</p></dd>


<dt id="arg-lookupdf">lookupDF<a class="anchor" aria-label="anchor" href="#arg-lookupdf"></a></dt>
<dd><p>A data frame containing a lookup table for node labels. By default, this function will use the PSN model names. If a lookup table containing the fields <code>Model</code> and <code>Alias</code> is provided, model names in <code>Model</code> will be replaced in the output plots by attaching labels in <code>Alias</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional parameters passed to the underlying <code><a href="https://rdrr.io/pkg/data.tree/man/ToDiagrammeRGraph.html" class="external-link">SetNodeStyle</a></code> and <code><a href="https://rdrr.io/pkg/data.tree/man/ToDiagrammeRGraph.html" class="external-link">SetEdgeStyle</a></code> functions, which in turn rely on <code>DiagrammeR</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>grViz</code> object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function parses PsN SCM output and displays it as a GraphViz graph (effectively, an HTML widget). It is built on <code><a href="https://rdrr.io/pkg/data.tree/man/ToDiagrammeRGraph.html" class="external-link">plot.Node</a></code> - please refer to documentation for this function for a more detailed overview of what is possible (a lot). For more specific details, see <a href="http://rich-iannone.github.io/DiagrammeR/docs.html" class="external-link">http://rich-iannone.github.io/DiagrammeR/docs.html</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>NONMEM (<a href="https://www.iconplc.com/innovation/nonmem/" class="external-link">https://www.iconplc.com/innovation/nonmem/</a>)</p>
<p>GraphViz (<a href="https://graphviz.org/Documentation.php" class="external-link">https://graphviz.org/Documentation.php</a>)</p>
<p>Lindbom L, Ribbing J &amp; Jonsson EN (2004). Perl-speaks-NONMEM (PsN) - A Perl module for NONMEM related programming. Computer Methods and Programs in Biomedicine, 75(2), 85-94. <a href="https://doi.org/10.1016/j.cmpb.2003.11.003" class="external-link">doi:10.1016/j.cmpb.2003.11.003</a></p>
<p>Lindbom L, Pihlgren P &amp; Jonsson N (2005). PsN-Toolkit - A collection of computer intensive statistical methods for non-linear mixed effect modeling using NONMEM. Computer Methods and Programs in Biomedicine, 79(3), 241-257. <a href="https://doi.org/10.1016/j.cmpb.2005.04.005" class="external-link">doi:10.1016/j.cmpb.2005.04.005</a></p>
<p>Other NONMEM reading:
<code><a href="read_nm.html">read_nm</a>()</code>,
<code><a href="read_nm_all.html">read_nm_all</a>()</code>,
<code><a href="read_nm_multi_table.html">read_nm_multi_table</a>()</code>,
<code><a href="read_nmcov.html">read_nmcov</a>()</code>,
<code><a href="read_nmext.html">read_nmext</a>()</code>,
<code><a href="read_nmtables.html">read_nmtables</a>()</code>,
<code><a href="read_scm.html">read_scm</a>()</code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Justin Wilkins, <a href="mailto:justin.wilkins@occams.com">justin.wilkins@occams.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">scm</span> <span class="op">&lt;-</span> <span class="fu">plot_scm</span><span class="op">(</span><span class="st">"E:/DrugX/ModelDevelopment/scm310"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Justin Wilkins, Bill Denney, Rik Schoemaker.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

